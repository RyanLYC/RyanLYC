## 脚手架
脚手架本质是操作系统的客户端，它通过命令行执行                                                                                                                                                                                    
```shell
vue create vue-test-app --force
```
* 主命令：vue
* command：create
* command的参数 vue-test-app
* --force为选项配置option

### 终端命令执行原理
终端输入 -> Node -> bin -> vue -> lib/node_modules  -> bin/vue.js
- 终端输入命令 vue create vue-test-app --force
- 终端解释vue命令
- 终端在环境变量中找到vue命令
- 终端根据vue 命令链接到实际文件vue.js
- 终端利用node执行vue.js
- vue.js解释command/options
- vue.js执行command
- 执行完毕退出

### 脚手架入口
- yarn add move-folder-cli -g
- 安装会把move-folder-cli包下载到user/.../lib/node_modules/move-folder-cli
- 配置软连接环境变量，根据package.json的bin，move-folder -> user/.../lib/node_modules/move-folder-cli/bin/cli.js
package.json
   ```js
   "bin": {
    "move-folder": "bin/cli.js"
  },
   ```
`创建`
- 命令名称为move-folder；执行文件为bin/cli.js
- bin文件夹 文件 cli.js声明入口 #!/usr/bin/env node (move-folder * 实际是 执行 /usr/bin/env node cli.js    ---- #!/usr/bin/env node的环境变量)
- npm link 本地可以使用 move-folder 命令

### 脚手架执行过程
输入 vue create vue-tes-app -> 在环境变量$Path中查询vue命令（相当于 which vue） -> 查询实际链接文件 -> 通过  /usr/bin/env node 执行文件

### 脚手架本地调试
脚手架目录 执行 npm link

### 获取输入的参数
require('process').argv // 数组第三个开始

### Lerna 多package包管理
[Lerna](https://lerna.js.org/) 是一个管理工具，用于管理包含多个软件包（package）的 JavaScript 项目。

#### Lerna8 开发脚手架流程
 安装lerna -> lerna init初始化项目 ->创建package -> lerna create 创建package -> "@fetc/utils": "*" -> 安装依赖 -> lerna publish

 `npm group 的package.json 需要添加`
 ```json
  "publishConfig": {
    "access": "public",
  },
 ```

[front-end-template-cli项目](https://github.com/RyanLYC/front-end-template-cli)



